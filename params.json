{
  "name": "Light Controller API",
  "tagline": "Android Client Library For Light Controller API (Android App)",
  "body": "Light Controller API\r\n====================\r\n\r\nBuild Status\r\n------------\r\n[![Build Status](https://travis-ci.org/eliotstocker/Light-ControllerAPI.svg?branch=master)](https://travis-ci.org/eliotstocker/Light-ControllerAPI)\r\n\r\nDemo application\r\n----------------\r\nthe demo application can be downloaded from google play here: [LC API Example](https://play.google.com/store/apps/details?id=tv.piratemedia.lightcontrollerapitest&hl=en_GB)\r\n\r\nand the code can be fount in this repo in the [Example Directory](https://github.com/eliotstocker/Light-ControllerAPI/tree/master/example)\r\n\r\nit provides an example API usage as well as an example provider that simply shows a toast for each command.\r\n\r\nDescription\r\n-----------\r\nAndroid Client Library for [Light Controller Android App](https://github.com/eliotstocker/Light-Controller)\r\nallowing your application to control the lighting in a users home with ease and no need to write any socket connections etc.\r\nalong with helper classes to write providers for Light Controller to allow it to control over Light brands etc.\r\n\r\nInstallation\r\n------------\r\nLight Controller API is available on Bintray in the JCenter Repo [ ![Download](https://api.bintray.com/packages/eliotstocker/maven/LightControllerAPI/images/download.svg) ](https://bintray.com/eliotstocker/maven/LightControllerAPI/_latestVersion)\r\n\r\nThe API can be added into your Gradle dependencies with the following line\r\n```gradle\r\ndependencies {\r\n    compile 'Light-ControllerAPI:lightcontrollerapi:1.1.+'\r\n}\r\n```\r\n\r\nParts\r\n-----\r\n1. [Light Controller Control API](#control-api)\r\n2. [Light Controller Providers](#provider-api)\r\n\r\n#Control API\r\n\r\nUsage\r\n-----\r\n\r\nAPI Usage is as follows:\r\n\r\n* Add Light Controller Permission to your manifest\r\n```xml\r\n<uses-permission android:name=\"tv.piratemedia.lightcontroler.api\"/>\r\n```\r\n\r\n* Initialize API\r\n```java\r\nLightControllerAPI api\r\ntry {\r\n    api = new LightControllerAPI(this);\r\n} catch(LightControllerException e) {\r\n    if(e.getCode() == TYPE_APPLICATION_MISSING) {\r\n        //Light Controller application is not installed\r\n        //open store to download Light Controller\r\n        LightControllerAPI.getApplicationFromPlayStore(this);\r\n    } elseif(e.getCode() == TYPE_APPLICATION_OLD) {\r\n        //Light Controller application too old\r\n        //open store to download Latest Light Controller\r\n        LightControllerAPI.getApplicationFromPlayStore(this);\r\n    }\r\n}\r\n```\r\n\r\n* Check if your application is allowed permission to control lights\r\n```java\r\nif(api.hasPermission()) {\r\n            //application has permission\r\n} else {\r\n    //app doesnt have permission, set event for if any permissions change on the api\r\n    api.setOnPermissionChanged(new OnPermissionChanged() {\r\n        @Override\r\n        public void onChange() {\r\n            //still need to check if your app has permission as this is called on any app permission change\r\n            if(api.hasPermission()) {\r\n                perms.setVisibility(View.GONE);\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\nIt is not explicityly required that an app must request permission as sending a command (such as light on) will result in a permission request being sent,\r\nhowever it is best use that in any app with a main activity that permissions are requested and checked on create or resume so as to avoid user confusion.\r\nThe Command usage for example does not explicitly request permission, thus on first use a permission requested be be sent.\r\n\r\n* Select Zone the user wishes to control\r\nthere are multiple ways to do this\r\n\r\n1: using the Zone List Picker\r\n```java\r\napi.pickZone();\r\n\r\n//register Activity Result Listener withing your activity, required to get the return from the pick activity\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    if(requestCode == LightControllerAPI.PickRequestCode) {\r\n        if(resultCode == RESULT_OK) {\r\n            //save zone for later use\r\n            Zone = (LightZone)data.getSerializableExtra(\"LightZone\");\r\n            //show user selected zone\r\n            selected.setText(Character.toUpperCase(Zone.Type.charAt(0)) + Zone.Type.substring(1) + \": \" + Zone.Name);\r\n        } else if(resultCode == RESULT_CANCELED) {\r\n            //picker was closed without picking\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n2: using LightZone List API\r\n```java\r\nLightZone[] zoneList = api.listZones();\r\n\r\nfor(int i = 0; i < zoneList.length; i++) {\r\n    LightZone zone = zoneList[i];\r\n    Log.d(\"Zone\", \"Name: \"+zone.Name+\" Type: \"+zone.Type);\r\n    \r\n    //do what ever you like with the zones here (add to listView perhapse)\r\n}\r\n```\r\n\r\n* Now you have the zones you can start to control the zones like the following\r\n```java\r\n//zone1 is a LightZone returned from either Zone List\r\napi.lightsOn(zone1);\r\n```\r\n\r\nif you wish your application to show up in the navigation menu in the Light Controller\r\napplication you must register an activity with the category 'tv.piratemedia.lightcontroller.plugin'\r\n\r\nit is also recommended that you allow the user to remove the launcher icon when accessing your plugin\r\nfrom light controller, however this is only the best case if the application works mainly as a plugin\r\nfor Light Controller rather than a stand alone app.\r\n\r\nyou can see a simple method for achieving this in the example application.\r\n\r\nAPI Documentation\r\n-----------------\r\nMethods:\r\n\r\n| Return Type    | Invocation                                       | Description    |\r\n| :------------- | :----------------------------------------------- | :------------- |\r\n|                | LightControllerAPI(Context context)              | Class constructor you must pass it your applications context for it to call the intents from, Throws a LightControllerException if The application is not installed or The Application version is to old to support this version of the API Client |\r\n| Void           | getApplicationFromPlayStore(Context context)     | (Static) Will bring the user to the play store where they can or update download light controller if needed. |\r\n| Boolean        | isLightControllerInstalled()                     | Return (Boolean) weather Light Controller Application is installed, should not need to be used as is called from the class constructor. |\r\n| LightZone[]    | listZones()                                      | Returns an array of all available Light Zones as LightZone Objects|\r\n| LightZone      | getZone(int Zone, String Type)                   | Will return the Light Zone Object for the specified zone, accepted values for Type are LightControllerAPI.LIGHT_TYPE_COLOR and LightControllerAPI.LIGHT_TYPE_WHITE |\r\n| Boolean        | hasPermission()                                  | Returns (boolean) weather your application has permission to use the Light Controller API |\r\n| Void           | RequiestPermission()                             | Request Permission to use the Light Controller API, this will create in interactive prompt for the user to allow to deny your app, use setOnPermissionChanged to listen for changes to your Permission Status |\r\n| Void           | setOnPermissionChanged(OnPermissionChanged oPC)  | Set a class that implements OnPermissionChanged where the onChange() Function is called when the application is granted/rescinded permission to access the Light Controller API |\r\n| Void           | lightsOn(LightZone lz)                           | Turn lights on for LightZone returned from listZones() or getZone(), you should not construct a LightZone Object for this. |\r\n| Void           | lightsOn(int Zone, String Type)                  | Turn on lights for the numbered zone of the type specified, accepted values for Type are LightControllerAPI.LIGHT_TYPE_COLOR and LightControllerAPI.LIGHT_TYPE_WHITE. |\r\n| Void           | lightsOff(LightZone lz)                          | Turn lights off for a LightZone Object returned from listZones() or getZone(), you should not construct a LightZone Object for this. |\r\n| Void           | lightsOff(int Zone, String Type)                 | Turn off lights for the numbered zone of the type specified, accepted values for Type are LightControllerAPI.LIGHT_TYPE_COLOR and LightControllerAPI.LIGHT_TYPE_WHITE. |\r\n| Void           | setColor(LightZone lz, int Color)                | Set Lights to specified color (For Colored Light Only Dummy!) for LightZone Object returned from listZones() or getZone(), Color Should be a color integer return from the Color class. |\r\n| Void           | setColor(int Zone, String Type, int Color)       | Set Lights to specified color (For Colored Light Only Dummy!) for the numbered zone of the type specified, Color Should be a color integer return from the Color class. |\r\n| Void           | setDefault(LightZone lz)                         | Set Colored Zone Lights to White, and White Zone Lights to Full Brightness for a LightZone Object returned from listZones() or getZone(). |\r\n| Void           | setDefault(int Zone, String Type)                | Set Colored Zone Lights to White, and White Zone Lights to Full Brightness for for the numbered zone of the type specified. |\r\n| Void           | startFadeIn(LightZone lz, int duration)          | Starts the lights lowly getting brighter from the lowest setting over the duration (in seconds) specified for a LightZone Object returned from listZones() or getZone(), Vaules from 30 to 900 are allowed, throws a LightControllerException if the values are outside to the acceptable range. |\r\n| Void           | startFadeIn(int Zone, String Type, int duration) | Starts the lights lowly getting brighter from the lowest setting over the duration (in seconds) specified for a the numbered zone of the type specified, Vaules from 30 to 900 are allowed, throws a LightControllerException if the values are outside to the acceptable range. |\r\n| Void           | startFadeOut(LightZone lz, int duration)         | Starts the lights lowly getting brighter from the highest setting over the duration (in seconds) specified for a LightZone Object returned from listZones() or getZone(), Vaules from 30 to 900 are allowed, throws a LightControllerException if the values are outside to the acceptable range. |\r\n| Void           | startFadeOut(int Zone, String Type, int duration)| Starts the lights lowly getting darker from the highest setting over the duration (in seconds) specified for a the numbered zone of the type specified, Vaules from 30 to 900 are allowed, throws a LightControllerException if the values are outside to the acceptable range. |\r\n| Void           | cancelFade()                                     | Cancels and fade currently in transition on any zone |\r\n| String         | getZoneName(int Zone, String Type)               | Returns the Name saved in Light Controller for the number zone of the specified type, accepted values for Type are LightControllerAPI.LIGHT_TYPE_COLOR and LightControllerAPI.LIGHT_TYPE_WHITE. |\r\n| Void           | pickZone()                                       | Brings forward an interactive dialog withing which users may select a zone to control. The Light Zone Object can be caught from the activity response in the calling activity using onActivityResult, by getting the LightZone Extra as Follows: (LightZone)data.getSerializableExtra(\"LightZone\") |\r\n\r\nProperties:\r\n\r\n| Type         | Name                   | Description    |\r\n| :----------- | :--------------------- | :------------- |\r\n| int          | PickRequestCode        | this is the request code of the pickZone() dialog so as you may catch this particular Activity response |\r\n| String       | LightControllerPackage | the Light Controller Package Name should you require it. |\r\n| String       | LIGHT_TYPE_COLOR       | Colored Lights LightZone type value, to be used with functions such as LightsOn etc. |\r\n| String       | LIGHT_TYPE_WHITE       | White Lights LightZone type value, to be used with functions such as LightsOn etc. |\r\n\r\nException:\r\nSome Functions will throw a LightControllerException which you can catch and inspect the Code to know why the Exception was thrown, for example if the installed version of Light Controller is too old, when constructing the LightControllerAPI Class the Code will be Equal to LightControllerException.TYPE_APPLICATION_OLD the known Codes are as follows:\r\n* TYPE_APPLICATION_MISSING: The Light Controller application is not installed, call the getApplicationFromPlayStore method to show the user the play store page.\r\n* TYPE_APPLICATION_OLD: The Light Controller application is installed, but too old to be used with this version of the API client library, call the getApplicationFromPlayStore method to show the user the play store page.\r\n* TYPE_ZONE_TYPE_INCORRECT: The Type String specified to a method such as lightsOn width not and accepted value\r\n* TYPE_VALUE_OUT_OF_RANGE: The Value specified for a fade Method such as startFadeOut was outside of the accepted range\r\n\r\n\r\nExample\r\n-------\r\na simple example of the API can be found here: [API Example](https://github.com/eliotstocker/Light-ControllerAPI/tree/master/example)\r\n\r\n#Provider API\r\nThe Provider API is currently in preview, and as such only works with Beta Releases of Light Controller, it should be considered a Beta and subject to some small changes or additions\r\n\r\nUsage\r\n-----\r\nInover to create a provider you must create a class extending ControlProviderReciever you will see that a number of functions are needed and they are quite self explainitory, further info on the functions required are listed bellow.\r\n\r\nyou must also register the reciever and setup intent filter as follow:\r\n```xml\r\n<receiver\r\n    android:name=\"{class that extends ControlProviderReciever}\"\r\n    android:label=\"{Title that shows up fro users when in select dialog}\"\r\n    android:exported=\"true\"\r\n    android:enabled=\"true\">\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.Select\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.LightOn\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.LightOff\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.GlobalOn\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.GlobalOff\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.Brightness\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.IncreaseBrightness\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.DecreaseBrightness\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.LightColor\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.Temperature\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.IncreaseTemperature\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.DecreaseTemperature\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.LightNight\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.LightFull\"/>\r\n</intent-filter>\r\n<intent-filter>\r\n    <category android:name=\"tv.piratemedia.lightcontroler.provider\"/>\r\n    <action android:name=\"tv.piratemedia.lightcontroler.provider.LightWhite\"/>\r\n</intent-filter>\r\n<meta-data\r\n        android:name=\"tv.piratemedia.lightcontroler.provider\"\r\n        android:resource=\"@xml/provider_info\" />\r\n</receiver>\r\n```\r\n\r\nat the end of the reciever example adove you can see that thre is a metadata field called \"tv.piratemedia.lightcontroler.provider\" this provides Light Controller with some information about how your reciever works\r\n\r\nan example of metadata XML:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<control-provider xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n                  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                  app:ColorBrightnessStatefull=\"false\"\r\n                  app:WhiteBrightnessStatefull=\"true\"\r\n                  app:ColorHasTemperature=\"false\"\r\n                  app:ColorTemperatureStatefull=\"false\"\r\n                  app:WhiteTemperatureStatefull=\"false\">\r\n</control-provider>\r\n```\r\nthis must be present for LightController to be able to load your provider\r\n\r\nSecurity\r\n---------\r\nControlProviderReciever has a security mechanism where by it will check the calling applications package name and signature to make sure that not just any application can use your provider.\r\n\r\nif you wish to enable other applications to use you package you can add their signature and package name in your Providers construction class like so:\r\n```java\r\nprivate static appPermission[] ap = {new appPermission(\"com.example.package\", 123456789)};\r\npublic ExampleProvider() {\r\n    super(ap);\r\n}\r\n```\r\nwhere 'com.example.package' is the package name and 123456789 is the hashCode of the applications signature, thjis application must of course implement calling the provider in a similar way to Light Controller\r\n\r\nSelection\r\n----------\r\nmost of the provider base functions are simply for the use of controlling the lights, however onSelected is a utility function that is called when a user selects your provider,\r\nthis can be left empty safely if no setup is required, however if you wish to display an activity to present the user with some options or information you can do so like so:\r\n\r\n```java\r\n@Override\r\npublic void onSelected(Context context) {\r\n    Intent i = new Intent(context, ProviderSelected.class);\r\n    i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    context.startActivity(i);\r\n}\r\n```\r\n\r\nProvider Documentation\r\n----------------------\r\n\r\nMethods to override in ControlProviderReciver:\r\n\r\n| Return Type    | Method Name                                                            | Description    |\r\n| :------------- | :--------------------------------------------------------------------- | :------------- |\r\n| Void           | onSelected(Context context)                                            | (Optional) On Selected callback, not required, allows you to run some code when the user selects your provider |\r\n| Void           | onLightsOn(int Type, int Zone, Context context)                        | When the user toggles a light on for a zone in the interface, run your code here to turn off the light |\r\n| Void           | onLightsOff(int Type, int Zone, Context context)                       | When the user toggles a light off for a zone in the interface, run your code here to turn off the light |\r\n| Void           | onGlobalOn(Context context)                                            | Turn on all Lights for All zones of all Types |\r\n| Void           | onGlobalOff(Context context)                                           | Turn off all Lights for All zones of all Types |\r\n| Void           | onSetBrightness(int Type, int Zone, float Brightness, Context context) | Set a Zones brightness when either 'ColorBrightnessStatefull' or 'WhiteBrightnessStatefull' are set to true the float value is between 0 and 1 where 1 is full brightness and 0 is the lowest |\r\n| Void           | onIncreaseBrightness(int Type, int Zone, Context context)              | Increase a Zones brightness by one step when either 'ColorBrightnessStatefull' or 'WhiteBrightnessStatefull' are set to false |\r\n| Void           | onDecreaseBrightness(int Type, int Zone, Context context)              | Decrease a Zones brightness by one step when either 'ColorBrightnessStatefull' or 'WhiteBrightnessStatefull' are set to false |\r\n| Void           | onSetColor(int Zone, int color, Context context)                       | callback to set a zones color, the integer passed in is a standard color code, no type is sent for this as it is expected to be a Color Zone |\r\n| Void           | onSetTemperature(int Type, int Zone, float Temp, Context context)      | Set a Zones temperature when either 'ColorTemperatureStatefull' or 'WhiteTemperatureStatefull' are set to true the float value is between -1 and 1 where 1 is warmest and -1 is the coolest |\r\n| Void           | onIncreaseTemperature(int Type, int Zone, Context context)             | Increase a Zones color temperature by one step when either 'ColorTemperatureStatefull' or 'WhiteTemperatureStatefull' are set to false |\r\n| Void           | onDecreaseTemperature(int Type, int Zone, Context context)             | Decrease a Zones color temperature by one step when either 'ColorTemperatureStatefull' or 'WhiteTemperatureStatefull' are set to false |\r\n| Void           | onSetNight(int Type, int Zone, Context context)                        | Set Zone specified to night mode |\r\n| Void           | onSetFull(int Type, int Zone, Context context)                         | Set Zone specified to full brightness |\r\n| Void           | onSetWhite(int Zone, Context context)                                  | Set a (Color) Zone back to white |\r\n\r\nZones and Types\r\n---------------\r\nall types are sent with one of the following static values ControlProviderReceiver.ZONE_TYPE_COLOR, ControlProviderReceiver.ZONE_TYPE_WHITE or ControlProviderReceiver.ZONE_TYPE_UNKNOWN in the unlikely even the zone is not known\r\n\r\nall zones will be integers from 0 to 4, with 0 being global (all zones of that type) and 1 to 4 being zones 1 to 4 respectively.\r\n\r\nthe global commands (on/off) should turn off oll lights of all types\r\n\r\nExample\r\n-------\r\na simple example provider of the API can be found here: [Example Provider](https://github.com/eliotstocker/Light-ControllerAPI/tree/master/example/scr/main/java/tv/piratemedia/lightcontrollerexample/ExampleProvider)\r\n\r\nLicense\r\n-------\r\nLight Controller API is free for use or modify as to allow any application to interface with Light Controller using the Apache 2.0 License\r\n",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}